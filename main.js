/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => RandomRetrievalPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");
var os = __toESM(require("os"));

// src/set_tab.ts
var import_obsidian = require("obsidian");
var RandomRetrievalSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(plugin) {
    super(plugin.app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("LLM retriever language").setDesc("zh for Chinese, en for English").addText(
      (text) => text.setPlaceholder("zh").setValue(this.plugin.settings.setLanguage).onChange(async (value) => {
        this.plugin.settings.setLanguage = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Open how many notes").setDesc("Default number of notes to open").addText(
      (text) => text.setPlaceholder("3").setValue(this.plugin.settings.setNoteNum.toString()).onChange(async (value) => {
        this.plugin.settings.setNoteNum = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Conda environment name").setDesc("Default conda environment").addText(
      (text) => text.setPlaceholder("rr-env").setValue(this.plugin.settings.setCondaEnv).onChange(async (value) => {
        this.plugin.settings.setCondaEnv = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Path to plugin configuration").setDesc("Default").addText(
      (text) => text.setPlaceholder("default").setValue(this.plugin.settings.PATH_TO_JSON).onChange(async (value) => {
        this.plugin.settings.PATH_TO_JSON = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Path to plugin application").setDesc("Default").addText(
      (text) => text.setPlaceholder("default").setValue(this.plugin.settings.PATH_TO_APP).onChange(async (value) => {
        this.plugin.settings.PATH_TO_APP = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Open in new leaf").setDesc("Default setting for opening random notes").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.openInNewLeaf);
      toggle.onChange(this.plugin.setOpenInNewLeaf);
    });
  }
};

// src/set_modal.ts
var import_obsidian2 = require("obsidian");
var InputModal = class extends import_obsidian2.Modal {
  constructor(app) {
    super(app);
    this.inputValue = "";
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.classList.add("random-retrieval", "modal-content");
    const titleEl = contentEl.createEl("h2", { text: "I am wondering.." });
    titleEl.classList.add("random-retrieval", "modal-title");
    const inputEl = contentEl.createEl("input", {
      type: "text",
      placeholder: "about.."
    });
    inputEl.classList.add("random-retrieval", "modal-input");
    inputEl.oninput = (e) => {
      const target = e.target;
      this.inputValue = target.value;
    };
    const buttonEl = contentEl.createEl("button", { text: "NightWalk \u{1F4A1}" });
    buttonEl.classList.add("random-retrieval", "button-nightwalk");
    buttonEl.addEventListener("click", () => {
      new import_obsidian2.Notice(`Retrieving..: ${this.inputValue}`);
      this.resolve(this.inputValue);
      this.close();
    });
    inputEl.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        buttonEl.click();
      }
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
  openAndGetValue() {
    return new Promise((resolve) => {
      this.resolve = resolve;
      this.open();
    });
  }
};

// src/main.ts
var import_child_process = require("child_process");
var RandomRetrievalPlugin = class extends import_obsidian3.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.ribbonIconEl = void 0;
    this.settings = {
      openInNewLeaf: true,
      setNoteNum: "3",
      setLanguage: "zh",
      vaultPath: `${this.getAbsPath("data.json")}`,
      setCondaEnv: "rr-env",
      PATH_TO_JSON: `${this.getAbsPath("data.json")}/${this.manifest.dir}/data.json`,
      PATH_TO_APP: `${this.getAbsPath("data.json")}/${this.manifest.dir}/`
    };
    this.uvicornProcess = null;
    this.loadSettings = async () => {
      const loadedSettings = await this.loadData();
      if (loadedSettings) {
        this.setOpenInNewLeaf(loadedSettings.openInNewLeaf);
        this.setLanguage(loadedSettings.setLanguage);
        this.setNoteNum(loadedSettings.setNoteNum);
        this.setCondaEnv(loadedSettings.setCondaEnv);
        this.PATH_TO_JSON(loadedSettings.PATH_TO_JSON);
        this.PATH_TO_APP(loadedSettings.PATH_TO_APP);
      } else {
        this.refreshRibbonIcon();
      }
    };
    this.setOpenInNewLeaf = (value) => {
      this.settings.openInNewLeaf = value;
      this.saveData(this.settings);
    };
    this.setLanguage = (value) => {
      this.settings.setLanguage = value;
      this.saveData(this.settings);
    };
    this.setNoteNum = (value) => {
      this.settings.setNoteNum = value;
      this.saveData(this.settings);
    };
    this.setCondaEnv = (value) => {
      this.settings.setCondaEnv = value;
      this.saveData(this.settings);
    };
    this.PATH_TO_JSON = (value) => {
      this.settings.PATH_TO_JSON = value;
      this.saveData(this.settings);
    };
    this.PATH_TO_APP = (value) => {
      this.settings.PATH_TO_APP = value;
      this.saveData(this.settings);
    };
    this.refreshRibbonIcon = () => {
      var _a;
      (_a = this.ribbonIconEl) == null ? void 0 : _a.remove();
      this.ribbonIconEl = this.addRibbonIcon(
        "annoyed",
        "Open Random Note from Search",
        () => {
          const inputModal = new InputModal(this.app);
          inputModal.openAndGetValue().then((inputValue) => {
            this.handleOpenRandomNote(inputValue);
          });
        }
      );
    };
    this.handleOpenRandomNote = async (query) => {
      let fileNames;
      try {
        const response = await (0, import_obsidian3.requestUrl)({
          url: `http://127.0.0.1:8000/search?query=${encodeURIComponent(query)}`,
          method: "GET"
        });
        if (response.status === 200) {
          const noteNum = Number(this.settings.setNoteNum);
          const validNoteNum = isNaN(noteNum) || noteNum <= 0 ? 1 : Math.min(noteNum, response.json.ranker.documents.length);
          fileNames = response.json.ranker.documents.slice(0, validNoteNum).map((doc) => {
            const FilesPath = doc.meta.name;
            let relativePath = FilesPath.replace(this.settings.vaultPath, "");
            return relativePath.replace(".md", "");
          });
          new import_obsidian3.Notice(`Top ${this.settings.setNoteNum} files: ${fileNames.join(", ")}`);
        } else {
          new import_obsidian3.Notice(`Failed: ${response.status}`);
        }
      } catch (error) {
        console.error("Error details:", error);
        if (error.response) {
          new import_obsidian3.Notice(`Failed: ${error.response.status}`);
        } else if (error.request) {
          new import_obsidian3.Notice(`No response received`);
        } else {
          new import_obsidian3.Notice(`Error: ${error.message}`);
        }
      }
      for (const fileName of fileNames) {
        if (fileName) {
          new import_obsidian3.Notice(`Opening ${fileName}`);
          await this.app.workspace.openLinkText(fileName, "", this.settings.openInNewLeaf, {
            active: true
          });
        }
      }
    };
    this.app = app;
  }
  getAbsPath(fileName) {
    let basePath = "";
    let relativePath;
    if (this.app.vault.adapter instanceof import_obsidian3.FileSystemAdapter) {
      basePath = this.app.vault.adapter.getBasePath() || "";
    }
    return basePath;
  }
  async onload() {
    await this.loadSettings();
    this.refreshRibbonIcon();
    this.addSettingTab(new RandomRetrievalSettingTab(this));
    this.runUvicorn();
  }
  async onunload() {
  }
  async saveSettings() {
    await this.saveData(this.settings);
    const jsonString = JSON.stringify(this.settings, null, 2);
  }
  async runUvicorn() {
    if (os.platform() !== "darwin") {
      new import_obsidian3.Notice("This feature is only supported on macOS.");
      return;
    }
    const command = `osascript -e 'tell application "Terminal"  
        activate
        do script "cd ${this.settings.PATH_TO_APP} && conda activate ${this.settings.setCondaEnv} && uvicorn rr_app:rr_app --reload"
        end tell'`;
    this.uvicornProcess = (0, import_child_process.exec)(command, (error, stdout, stderr) => {
      if (error) {
        new import_obsidian3.Notice(`Error: ${error.message}`);
        return;
      }
      if (stderr) {
        new import_obsidian3.Notice(`stderr: ${stderr}`);
        return;
      }
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldF90YWIudHMiLCAic3JjL3NldF9tb2RhbC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgXG4gICAgQXBwLCBcbiAgICBFZGl0b3IsIFxuICAgIE1hcmtkb3duVmlldywgXG4gICAgTW9kYWwsIFxuICAgIE5vdGljZSwgXG4gICAgUGx1Z2luLCBcbiAgICByZXF1ZXN0VXJsLFxuICAgIEZpbGVTeXN0ZW1BZGFwdGVyLFxuICAgIFBsdWdpbk1hbmlmZXN0LFxuICAgIFBsdWdpblNldHRpbmdUYWIsIFxuICAgIFNldHRpbmcsIFxuICAgIEl0ZW1WaWV3LCBcbiAgICBXb3Jrc3BhY2VMZWFmLFxuXHRURmlsZSBcbn1mcm9tICdvYnNpZGlhbic7XG5cbmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJztcblxuaW1wb3J0IHsgUmFuZG9tUmV0cmlldmFsU2V0dGluZ1RhYiB9IGZyb20gJy4vc2V0X3RhYic7XG5pbXBvcnQgeyBSYW5kb21SZXRyaWV2YWxTZXR0aW5ncyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgSW5wdXRNb2RhbCB9IGZyb20gJy4vc2V0X21vZGFsJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCB7IGV4ZWMsIENoaWxkUHJvY2VzcyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0ICcuLi9zdHlsZXMuY3NzJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5kb21SZXRyaWV2YWxQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXG4gICAgYXBwOiBBcHA7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgbWFuaWZlc3Q6IFBsdWdpbk1hbmlmZXN0KSB7XG4gICAgICAgIHN1cGVyKGFwcCwgbWFuaWZlc3QpOyBcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgfVxuXG4gICAgZ2V0QWJzUGF0aChmaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGJhc2VQYXRoPScnO1xuICAgICAgICBsZXQgcmVsYXRpdmVQYXRoO1xuXG4gICAgICAgIGlmICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGluc3RhbmNlb2YgRmlsZVN5c3RlbUFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGJhc2VQYXRoID0gdGhpcy5hcHAudmF1bHQuYWRhcHRlci5nZXRCYXNlUGF0aCgpIHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VQYXRoO1xuICAgIH1cblxuXG4gICAgcmliYm9uSWNvbkVsOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgIHNldHRpbmdzOiBSYW5kb21SZXRyaWV2YWxTZXR0aW5ncyA9IHsgb3BlbkluTmV3TGVhZjogdHJ1ZSwgXG4gICAgICAgIHNldE5vdGVOdW06ICczJyxcbiAgICAgICAgc2V0TGFuZ3VhZ2U6ICd6aCcsIFxuICAgICAgICB2YXVsdFBhdGg6IGAke3RoaXMuZ2V0QWJzUGF0aCgnZGF0YS5qc29uJyl9YCxcbiAgICAgICAgc2V0Q29uZGFFbnY6ICdyci1lbnYnLFxuICAgICAgICBQQVRIX1RPX0pTT046IGAke3RoaXMuZ2V0QWJzUGF0aCgnZGF0YS5qc29uJyl9LyR7dGhpcy5tYW5pZmVzdC5kaXJ9L2RhdGEuanNvbmAsXG4gICAgICAgIFBBVEhfVE9fQVBQOiBgJHt0aGlzLmdldEFic1BhdGgoJ2RhdGEuanNvbicpfS8ke3RoaXMubWFuaWZlc3QuZGlyfS9gXG5cbiAgICB9O1xuICAgIHByaXZhdGUgdXZpY29yblByb2Nlc3M6IENoaWxkUHJvY2VzcyB8IG51bGwgPSBudWxsO1xuXG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMucmVmcmVzaFJpYmJvbkljb24oKTtcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFJhbmRvbVJldHJpZXZhbFNldHRpbmdUYWIodGhpcykpO1xuICAgICAgICB0aGlzLnJ1blV2aWNvcm4oKTtcblx0fVxuICAgIFxuXHRhc3luYyBvbnVubG9hZCgpIHtcblx0fVxuXG5cblx0bG9hZFNldHRpbmdzID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICBjb25zdCBsb2FkZWRTZXR0aW5ncyA9IChhd2FpdCB0aGlzLmxvYWREYXRhKCkpIGFzIFJhbmRvbVJldHJpZXZhbFNldHRpbmdzO1xuICAgICAgICBpZiAobG9hZGVkU2V0dGluZ3MpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0T3BlbkluTmV3TGVhZihsb2FkZWRTZXR0aW5ncy5vcGVuSW5OZXdMZWFmKTtcbiAgICAgICAgICAgIHRoaXMuc2V0TGFuZ3VhZ2UobG9hZGVkU2V0dGluZ3Muc2V0TGFuZ3VhZ2UpO1xuICAgICAgICAgICAgdGhpcy5zZXROb3RlTnVtKGxvYWRlZFNldHRpbmdzLnNldE5vdGVOdW0pO1xuICAgICAgICAgICAgdGhpcy5zZXRDb25kYUVudihsb2FkZWRTZXR0aW5ncy5zZXRDb25kYUVudik7XG4gICAgICAgICAgICB0aGlzLlBBVEhfVE9fSlNPTihsb2FkZWRTZXR0aW5ncy5QQVRIX1RPX0pTT04pO1xuICAgICAgICAgICAgdGhpcy5QQVRIX1RPX0FQUChsb2FkZWRTZXR0aW5ncy5QQVRIX1RPX0FQUCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hSaWJib25JY29uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncywgbnVsbCwgMik7XG4gICAgICAgIC8vIGF3YWl0IGZzLnByb21pc2VzLndyaXRlRmlsZSh0aGlzLnNldHRpbmdzLlBBVEhfVE9fSlNPTiwganNvblN0cmluZywgJ3V0ZjgnKTtcblx0fVxuXG5cdHNldE9wZW5Jbk5ld0xlYWYgPSAodmFsdWU6IGJvb2xlYW4pOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5vcGVuSW5OZXdMZWFmID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgfTtcblxuICAgIHNldExhbmd1YWdlID0gKHZhbHVlOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zZXRMYW5ndWFnZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAgIH07XG5cbiAgICBzZXROb3RlTnVtID0gKHZhbHVlOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zZXROb3RlTnVtID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgfTtcblxuICAgIHNldENvbmRhRW52ID0gKHZhbHVlOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zZXRDb25kYUVudiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAgIH07XG5cbiAgICBQQVRIX1RPX0pTT04gPSAodmFsdWU6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLnNldHRpbmdzLlBBVEhfVE9fSlNPTiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAgIH07XG5cbiAgICBQQVRIX1RPX0FQUCA9ICh2YWx1ZTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuUEFUSF9UT19BUFAgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICB9O1xuXG4gICAgcmVmcmVzaFJpYmJvbkljb24gPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMucmliYm9uSWNvbkVsPy5yZW1vdmUoKTtcblxuICAgICAgICB0aGlzLnJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbihcbiAgICAgICAgICAgICdhbm5veWVkJyxcbiAgICAgICAgICAgICdPcGVuIFJhbmRvbSBOb3RlIGZyb20gU2VhcmNoJyxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dE1vZGFsID0gbmV3IElucHV0TW9kYWwodGhpcy5hcHApO1xuICAgICAgICAgICAgICAgIGlucHV0TW9kYWwub3BlbkFuZEdldFZhbHVlKCkudGhlbigoaW5wdXRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU9wZW5SYW5kb21Ob3RlKGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgfTtcblxuXG4gICAgaGFuZGxlT3BlblJhbmRvbU5vdGUgPSBhc3luYyAocXVlcnk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuXG4gICAgICAgIGxldCBmaWxlTmFtZXM6IGFueTtcbiAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG4gICAgICAgICAgICAgICAgdXJsOiBgaHR0cDovLzEyNy4wLjAuMTo4MDAwL3NlYXJjaD9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBub3RlTnVtID0gTnVtYmVyKHRoaXMuc2V0dGluZ3Muc2V0Tm90ZU51bSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWROb3RlTnVtID0gaXNOYU4obm90ZU51bSkgfHwgbm90ZU51bSA8PSAwID8gMSA6IE1hdGgubWluKG5vdGVOdW0sIHJlc3BvbnNlLmpzb24ucmFua2VyLmRvY3VtZW50cy5sZW5ndGgpOyBcblxuICAgICAgICAgICAgICAgIGZpbGVOYW1lcyA9IHJlc3BvbnNlLmpzb24ucmFua2VyLmRvY3VtZW50cy5zbGljZSgwLCB2YWxpZE5vdGVOdW0pLm1hcCgoZG9jOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgRmlsZXNQYXRoID0gZG9jLm1ldGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbGF0aXZlUGF0aCA9IEZpbGVzUGF0aC5yZXBsYWNlKHRoaXMuc2V0dGluZ3MudmF1bHRQYXRoLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbGF0aXZlUGF0aC5yZXBsYWNlKFwiLm1kXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFRvcCAke3RoaXMuc2V0dGluZ3Muc2V0Tm90ZU51bX0gZmlsZXM6ICR7ZmlsZU5hbWVzLmpvaW4oJywgJyl9YCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgRmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRldGFpbHM6JywgZXJyb3IpO1xuICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgRmFpbGVkOiAke2Vycm9yLnJlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYE5vIHJlc3BvbnNlIHJlY2VpdmVkYCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgZmlsZU5hbWUgb2YgZmlsZU5hbWVzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBPcGVuaW5nICR7ZmlsZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChmaWxlTmFtZSwgJycsIHRoaXMuc2V0dGluZ3Mub3BlbkluTmV3TGVhZiwge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICB9O1xuXG4gICAgXG4gICAgYXN5bmMgcnVuVXZpY29ybigpIHtcbiAgICAgICAgLy8gT25seSBzdXBwb3J0ZWQgb24gbWFjT1NcbiAgICAgICAgaWYgKG9zLnBsYXRmb3JtKCkgIT09ICdkYXJ3aW4nKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdUaGlzIGZlYXR1cmUgaXMgb25seSBzdXBwb3J0ZWQgb24gbWFjT1MuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb21tYW5kID0gYG9zYXNjcmlwdCAtZSAndGVsbCBhcHBsaWNhdGlvbiBcIlRlcm1pbmFsXCIgIFxuICAgICAgICBhY3RpdmF0ZVxuICAgICAgICBkbyBzY3JpcHQgXCJjZCAke3RoaXMuc2V0dGluZ3MuUEFUSF9UT19BUFB9ICYmIGNvbmRhIGFjdGl2YXRlICR7dGhpcy5zZXR0aW5ncy5zZXRDb25kYUVudn0gJiYgdXZpY29ybiBycl9hcHA6cnJfYXBwIC0tcmVsb2FkXCJcbiAgICAgICAgZW5kIHRlbGwnYDtcblxuICAgICAgICB0aGlzLnV2aWNvcm5Qcm9jZXNzID0gZXhlYyhjb21tYW5kLCAoZXJyb3IsIHN0ZG91dCwgc3RkZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0ZGVycikge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYHN0ZGVycjogJHtzdGRlcnJ9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfVxuICAgIFxufVxuXG4iLCAiaW1wb3J0IFJhbmRvbVJldHJpZXZhbFBsdWdpbiBmcm9tICcuL21haW4nO1xuaW1wb3J0IHsgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcblxuZXhwb3J0IGNsYXNzIFJhbmRvbVJldHJpZXZhbFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwbHVnaW46IFJhbmRvbVJldHJpZXZhbFBsdWdpbjtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogUmFuZG9tUmV0cmlldmFsUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKHBsdWdpbi5hcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZShcIkxMTSByZXRyaWV2ZXIgbGFuZ3VhZ2VcIilcblx0XHQuc2V0RGVzYyhcInpoIGZvciBDaGluZXNlLCBlbiBmb3IgRW5nbGlzaFwiKVxuXHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0dGV4dFxuXHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiemhcIilcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZXRMYW5ndWFnZSlcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2V0TGFuZ3VhZ2UgPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoXCJPcGVuIGhvdyBtYW55IG5vdGVzXCIpXG5cdFx0LnNldERlc2MoXCJEZWZhdWx0IG51bWJlciBvZiBub3RlcyB0byBvcGVuXCIpXG5cdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHR0ZXh0XG5cdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCIzXCIpXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2V0Tm90ZU51bS50b1N0cmluZygpKVxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNldE5vdGVOdW0gPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoXCJDb25kYSBlbnZpcm9ubWVudCBuYW1lXCIpXG5cdFx0LnNldERlc2MoXCJEZWZhdWx0IGNvbmRhIGVudmlyb25tZW50XCIpXG5cdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHR0ZXh0XG5cdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJyci1lbnZcIilcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZXRDb25kYUVudilcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2V0Q29uZGFFbnYgPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZShcIlBhdGggdG8gcGx1Z2luIGNvbmZpZ3VyYXRpb25cIilcblx0XHQuc2V0RGVzYyhcIkRlZmF1bHRcIilcblx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdHRleHRcblx0XHRcdC5zZXRQbGFjZWhvbGRlcihcImRlZmF1bHRcIilcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5QQVRIX1RPX0pTT04pXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLlBBVEhfVE9fSlNPTiA9IHZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdC5zZXROYW1lKFwiUGF0aCB0byBwbHVnaW4gYXBwbGljYXRpb25cIilcblx0XHQuc2V0RGVzYyhcIkRlZmF1bHRcIilcblx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdHRleHRcblx0XHRcdC5zZXRQbGFjZWhvbGRlcihcImRlZmF1bHRcIilcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5QQVRIX1RPX0FQUClcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuUEFUSF9UT19BUFAgPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnT3BlbiBpbiBuZXcgbGVhZicpXG4gICAgICAgICAgICAuc2V0RGVzYygnRGVmYXVsdCBzZXR0aW5nIGZvciBvcGVuaW5nIHJhbmRvbSBub3RlcycpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlbkluTmV3TGVhZik7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKHRoaXMucGx1Z2luLnNldE9wZW5Jbk5ld0xlYWYpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIE1vZGFsLCBOb3RpY2UsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgJy4uL3N0eWxlcy5jc3MnO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRNb2RhbCBleHRlbmRzIE1vZGFsIHtcblxuICAgIGlucHV0VmFsdWU6IHN0cmluZztcbiAgICByZXNvbHZlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9ICcnO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIC8vIGNvbnRlbnRFbC5jbGFzc0xpc3QuYWRkKCdyYW5kb20tcmV0cmlldmFsJyk7XG4gICAgXG4gICAgICAgIC8vIGNvbnRhaW5lclxuICAgICAgICBjb250ZW50RWwuY2xhc3NMaXN0LmFkZCgncmFuZG9tLXJldHJpZXZhbCcsICdtb2RhbC1jb250ZW50Jyk7XG4gICAgXG4gICAgICAgIC8vIHRpdGxlXG4gICAgICAgIGNvbnN0IHRpdGxlRWwgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnSSBhbSB3b25kZXJpbmcuLicgfSk7XG4gICAgICAgIHRpdGxlRWwuY2xhc3NMaXN0LmFkZCgncmFuZG9tLXJldHJpZXZhbCcsICdtb2RhbC10aXRsZScpO1xuICAgIFxuICAgICAgICAvLyBpbnB1dFxuICAgICAgICBjb25zdCBpbnB1dEVsID0gY29udGVudEVsLmNyZWF0ZUVsKCdpbnB1dCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnYWJvdXQuLicsXG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQoJ3JhbmRvbS1yZXRyaWV2YWwnLCAnbW9kYWwtaW5wdXQnKTtcbiAgICBcbiAgICAgICAgaW5wdXRFbC5vbmlucHV0ID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgICB9O1xuICAgIFxuICAgICAgICAvLyBidXR0b25cbiAgICAgICAgY29uc3QgYnV0dG9uRWwgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ05pZ2h0V2FsayBcdUQ4M0RcdURDQTEnIH0pO1xuICAgICAgICBidXR0b25FbC5jbGFzc0xpc3QuYWRkKCdyYW5kb20tcmV0cmlldmFsJywgJ2J1dHRvbi1uaWdodHdhbGsnKTtcbiAgICBcbiAgICAgICAgYnV0dG9uRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBSZXRyaWV2aW5nLi46ICR7dGhpcy5pbnB1dFZhbHVlfWApO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlKHRoaXMuaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgIGJ1dHRvbkVsLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG5cbiAgICBvcGVuQW5kR2V0VmFsdWUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBZU07QUFFTixTQUFvQjs7O0FDaEJwQixzQkFBMEM7QUFFbkMsSUFBTSw0QkFBTixjQUF3QyxpQ0FBaUI7QUFBQSxFQUc1RCxZQUFZLFFBQStCO0FBQ3ZDLFVBQU0sT0FBTyxLQUFLLE1BQU07QUFDeEIsU0FBSyxTQUFTO0FBQUEsRUFDbEI7QUFBQSxFQUVBLFVBQWdCO0FBQ1osVUFBTSxFQUFFLFlBQVksSUFBSTtBQUV4QixnQkFBWSxNQUFNO0FBRWxCLFFBQUksd0JBQVEsV0FBVyxFQUM1QixRQUFRLHdCQUF3QixFQUNoQyxRQUFRLGdDQUFnQyxFQUN4QztBQUFBLE1BQVEsQ0FBQyxTQUNULEtBQ0MsZUFBZSxJQUFJLEVBQ25CLFNBQVMsS0FBSyxPQUFPLFNBQVMsV0FBVyxF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
